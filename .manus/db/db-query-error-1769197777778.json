{
  "query": "\n-- Eliminar seguimientos de planes de acción vinculados a planes_sucesion\nDELETE FROM seguimiento_planes \nWHERE plan_accion_id IN (\n  SELECT id FROM planes_accion \n  WHERE plan_sucesion_id IN (SELECT id FROM planes_sucesion)\n);\n\n-- Eliminar planes de acción vinculados a planes_sucesion\nDELETE FROM planes_accion \nWHERE plan_sucesion_id IN (SELECT id FROM planes_sucesion);\n\n-- Eliminar auditoría vinculada a planes de acción\nDELETE FROM auditoria \nWHERE plan_accion_id IN (SELECT id FROM planes_accion);\n\n-- Eliminar planes_sucesion\nDELETE FROM planes_sucesion;\n\n-- Verificar que está limpio\nSELECT 'planes_sucesion' as tabla, COUNT(*) as registros FROM planes_sucesion\nUNION ALL\nSELECT 'planes_accion', COUNT(*) FROM planes_accion\nUNION ALL\nSELECT 'seguimiento_planes', COUNT(*) FROM seguimiento_planes;\n",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway03.us-east-1.prod.aws.tidbcloud.com --port 4000 --user j2FTkFQTdFUnQgU.root --database TfZrNnU8ACksUNuSJSy8Lr --execute \n-- Eliminar seguimientos de planes de acción vinculados a planes_sucesion\nDELETE FROM seguimiento_planes \nWHERE plan_accion_id IN (\n  SELECT id FROM planes_accion \n  WHERE plan_sucesion_id IN (SELECT id FROM planes_sucesion)\n);\n\n-- Eliminar planes de acción vinculados a planes_sucesion\nDELETE FROM planes_accion \nWHERE plan_sucesion_id IN (SELECT id FROM planes_sucesion);\n\n-- Eliminar auditoría vinculada a planes de acción\nDELETE FROM auditoria \nWHERE plan_accion_id IN (SELECT id FROM planes_accion);\n\n-- Eliminar planes_sucesion\nDELETE FROM planes_sucesion;\n\n-- Verificar que está limpio\nSELECT 'planes_sucesion' as tabla, COUNT(*) as registros FROM planes_sucesion\nUNION ALL\nSELECT 'planes_accion', COUNT(*) FROM planes_accion\nUNION ALL\nSELECT 'seguimiento_planes', COUNT(*) FROM seguimiento_planes;\n",
  "returncode": 1,
  "logs": [
    "ERROR 1054 (42S22) at line 3: Unknown column 'plan_accion_id' in 'where clause'"
  ]
}