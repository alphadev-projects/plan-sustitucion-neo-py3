{
  "query": "CREATE TRIGGER IF NOT EXISTS actualizar_sucesor_datos\nBEFORE INSERT ON sucesion_puestos\nFOR EACH ROW\nBEGIN\n  IF NEW.sucesor != '' AND NEW.sucesor IS NOT NULL THEN\n    SELECT e.cargo, e.departamento INTO NEW.cargoSucesor, NEW.departamentoSucesor\n    FROM empleados e\n    WHERE LOWER(TRIM(e.nombre)) = LOWER(TRIM(NEW.sucesor))\n    LIMIT 1;\n  END IF;\nEND;",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway03.us-east-1.prod.aws.tidbcloud.com --port 4000 --user j2FTkFQTdFUnQgU.root --database TfZrNnU8ACksUNuSJSy8Lr --execute CREATE TRIGGER IF NOT EXISTS actualizar_sucesor_datos\nBEFORE INSERT ON sucesion_puestos\nFOR EACH ROW\nBEGIN\n  IF NEW.sucesor != '' AND NEW.sucesor IS NOT NULL THEN\n    SELECT e.cargo, e.departamento INTO NEW.cargoSucesor, NEW.departamentoSucesor\n    FROM empleados e\n    WHERE LOWER(TRIM(e.nombre)) = LOWER(TRIM(NEW.sucesor))\n    LIMIT 1;\n  END IF;\nEND;",
  "returncode": 1,
  "logs": [
    "ERROR 1064 (42000) at line 1: You have an error in your SQL syntax; check the manual that corresponds to your TiDB version for the right syntax to use line 1 column 14 near \"TRIGGER IF NOT EXISTS actualizar_sucesor_datos",
    "BEFORE INSERT ON sucesion_puestos",
    "FOR EACH ROW",
    "BEGIN",
    "  IF NEW.sucesor != '' AND NEW.sucesor IS NOT NULL THEN",
    "    SELECT e.cargo, e.departamento INTO NEW.cargoSucesor, NEW.departamentoSucesor",
    "    FROM empleados e",
    "    WHERE LOWER(TRIM(e.nombre)) = LOWER(TRIM(NEW.sucesor))",
    "    LIMIT 1\""
  ]
}